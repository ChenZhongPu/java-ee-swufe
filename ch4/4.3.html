<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js rust">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Session Management (1) - Head First Java Web</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "rust";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../preface.html">Preface</a></li><li class="chapter-item expanded "><a href="../ch1/index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../ch1/1.1.html"><strong aria-hidden="true">1.1.</strong> Jakarta EE Overview</a></li><li class="chapter-item expanded "><a href="../ch1/1.2.html"><strong aria-hidden="true">1.2.</strong> Your First Java Web Project</a></li><li class="chapter-item expanded "><a href="../ch1/1.3.html"><strong aria-hidden="true">1.3.</strong> A Brief Introduction To HTML</a></li><li class="chapter-item expanded "><a href="../ch1/1.4.html"><strong aria-hidden="true">1.4.</strong> A Brief Introduction To HTTP</a></li><li class="chapter-item expanded "><a href="../ch1/1.5.html"><strong aria-hidden="true">1.5.</strong> Revisit The First Java Web Project</a></li><li class="chapter-item expanded "><a href="../ch1/exercise.html"><strong aria-hidden="true">1.6.</strong> Exercise</a></li></ol></li><li class="chapter-item expanded "><a href="../ch2/index.html"><strong aria-hidden="true">2.</strong> Web App Architecture And Mini MVC</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../ch2/2.1.html"><strong aria-hidden="true">2.1.</strong> Servlet And Container</a></li><li class="chapter-item expanded "><a href="../ch2/2.2.html"><strong aria-hidden="true">2.2.</strong> Search: The Way To Self-learning</a></li><li class="chapter-item expanded "><a href="../ch2/2.3.html"><strong aria-hidden="true">2.3.</strong> A Brief Introduction To MVC</a></li><li class="chapter-item expanded "><a href="../ch2/2.4.html"><strong aria-hidden="true">2.4.</strong> Hands On MVC (1)</a></li><li class="chapter-item expanded "><a href="../ch2/2.5.html"><strong aria-hidden="true">2.5.</strong> Hands on MVC (2)</a></li><li class="chapter-item expanded "><a href="../ch2/exercise.html"><strong aria-hidden="true">2.6.</strong> Exercise</a></li></ol></li><li class="chapter-item expanded "><a href="../ch3/index.html"><strong aria-hidden="true">3.</strong> In-depth Servlet</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../ch3/3.1.html"><strong aria-hidden="true">3.1.</strong> Servlet: From Birth To Death</a></li><li class="chapter-item expanded "><a href="../ch3/3.2.html"><strong aria-hidden="true">3.2.</strong> Request And Response</a></li><li class="chapter-item expanded "><a href="../ch3/3.3.html"><strong aria-hidden="true">3.3.</strong> More About Request</a></li><li class="chapter-item expanded "><a href="../ch3/3.4.html"><strong aria-hidden="true">3.4.</strong> Upload Files In Servlets</a></li><li class="chapter-item expanded "><a href="../ch3/3.5.html"><strong aria-hidden="true">3.5.</strong> More About Response (1)</a></li><li class="chapter-item expanded "><a href="../ch3/3.6.html"><strong aria-hidden="true">3.6.</strong> More About Response (2)</a></li><li class="chapter-item expanded "><a href="../ch3/exercise.html"><strong aria-hidden="true">3.7.</strong> Exercise</a></li></ol></li><li class="chapter-item expanded "><a href="../ch4/index.html"><strong aria-hidden="true">4.</strong> In-depth Web</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../ch4/4.1.html"><strong aria-hidden="true">4.1.</strong> Init parameters</a></li><li class="chapter-item expanded "><a href="../ch4/4.2.html"><strong aria-hidden="true">4.2.</strong> Attributes</a></li><li class="chapter-item expanded "><a href="../ch4/4.3.html" class="active"><strong aria-hidden="true">4.3.</strong> Session Management (1)</a></li><li class="chapter-item expanded "><a href="../ch4/4.4.html"><strong aria-hidden="true">4.4.</strong> Session Management (2)</a></li><li class="chapter-item expanded "><a href="../ch4/exercise.html"><strong aria-hidden="true">4.5.</strong> Exercise</a></li></ol></li><li class="chapter-item expanded "><a href="../ch5/index.html"><strong aria-hidden="true">5.</strong> JSP And Scriptless JSP</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../ch5/5.1.html"><strong aria-hidden="true">5.1.</strong> Facts About JSP</a></li><li class="chapter-item expanded "><a href="../ch5/5.2.html"><strong aria-hidden="true">5.2.</strong> Expression Language</a></li><li class="chapter-item expanded "><a href="../ch5/5.3.html"><strong aria-hidden="true">5.3.</strong> JSTL</a></li><li class="chapter-item expanded "><a href="../ch5/exercise.html"><strong aria-hidden="true">5.4.</strong> Exercise</a></li></ol></li><li class="chapter-item expanded "><a href="../ch6/index.html"><strong aria-hidden="true">6.</strong> Database</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../ch6/6.1.html"><strong aria-hidden="true">6.1.</strong> Introduction To Database</a></li><li class="chapter-item expanded "><a href="../ch6/6.2.html"><strong aria-hidden="true">6.2.</strong> SQL (1)</a></li><li class="chapter-item expanded "><a href="../ch6/6.3.html"><strong aria-hidden="true">6.3.</strong> SQL (2)</a></li><li class="chapter-item expanded "><a href="../ch6/6.4.html"><strong aria-hidden="true">6.4.</strong> Accessing Databases From Java (1)</a></li><li class="chapter-item expanded "><a href="../ch6/6.5.html"><strong aria-hidden="true">6.5.</strong> Accessing Databases From Java (2)</a></li><li class="chapter-item expanded "><a href="../ch6/exercise.html"><strong aria-hidden="true">6.6.</strong> Exercise</a></li></ol></li><li class="chapter-item expanded "><a href="../ch7/index.html"><strong aria-hidden="true">7.</strong> Thymeleaf</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../ch7/7.1.html"><strong aria-hidden="true">7.1.</strong> Get Started With Thymeleaf</a></li><li class="chapter-item expanded "><a href="../ch7/7.2.html"><strong aria-hidden="true">7.2.</strong> Standard Expression Syntax</a></li><li class="chapter-item expanded "><a href="../ch7/exercise.html"><strong aria-hidden="true">7.3.</strong> Exercise</a></li></ol></li><li class="chapter-item expanded "><a href="../ch9/index.html"><strong aria-hidden="true">8.</strong> Get Started With Spring</a></li><li class="chapter-item expanded "><a href="../appendix/index.html"><strong aria-hidden="true">9.</strong> Appendix</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../appendix/tomcat.html"><strong aria-hidden="true">9.1.</strong> A.1 Tomcat</a></li><li class="chapter-item expanded "><a href="../appendix/idea.html"><strong aria-hidden="true">9.2.</strong> A.2 IntelliJ IDEA</a></li><li class="chapter-item expanded "><a href="../appendix/jdk.html"><strong aria-hidden="true">9.3.</strong> A.3 JDK</a></li><li class="chapter-item expanded "><a href="../appendix/gradle.html"><strong aria-hidden="true">9.4.</strong> A.4 Gradle</a></li><li class="chapter-item expanded "><a href="../appendix/sqlite.html"><strong aria-hidden="true">9.5.</strong> A.5 SQLite</a></li><li class="chapter-item expanded "><a href="../appendix/cloud.html"><strong aria-hidden="true">9.6.</strong> A.6 Cloud (1)</a></li><li class="chapter-item expanded "><a href="../appendix/cloud2.html"><strong aria-hidden="true">9.7.</strong> A.7 Cloud (2)</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Head First Java Web</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="43-session-management-1"><a class="header" href="#43-session-management-1">4.3 Session Management (1)</a></h1>
<p>In the classical <em>request-response</em> model, the server cannot remember who you are. In other words, as far as the container's concerned, <strong>each request is from a new client</strong>. But, in real world, remembering the client is very important. For example, after you logged in a website, the website is expected to be able to recognize your identification. Otherwise, you have to input your name and password again and again for any subsequent action.</p>
<p><img src="image/ch4-session.png" alt="Figure 4.5 HTTP is stateless." title=":size=50%" /></p>
<p>HTTP is stateless. In order to associate a request to any other request, you need a way to store user data between HTTP requests. One solution is to store some <em>id</em> to identify a unique user. This is how <em>session</em> works[1].</p>
<blockquote>
<p>Session, literally, means a conversation, and it is to keep conversational state with the client across multiple requests.</p>
</blockquote>
<p>Session is also one of the three scopes of attributes, so understanding how session works and how to use session would definitely enrich your programming toolbox.</p>
<h2 id="how-session-works"><a class="header" href="#how-session-works">How session works</a></h2>
<p>Resident Identity Card has a unique <em>ID</em> for everyone in a country; every student has a unique <em>ID</em> in her campus. So, the idea is simple: the container keeps a unique <em>ID</em> for every session. So the whole story goes:</p>
<ul>
<li>On the client's first request, the container generates a unique session ID and gives it back to the client with the response.</li>
<li>The client sends back the session ID with each subsequent request.</li>
<li>The container sees the ID, finds the matching session, and associates the session with the request.</li>
</ul>
<p>Note that the session ID is shipped with the response. Let's check the <code>Network</code> tab using the web browser of the response header for the first time (<code>ch3/response</code>). <code>Set-Cookie</code> is just another header sent in the response, and <code>JSESSIONID</code> is the <em>ID</em> generated by the container. As we expected, for the subsequent requests, we will find the <em>same</em> <code>JSESSIONID</code> at the request's header again.</p>
<p><img src="image/ch4-set-cookie.png" alt="Figure 4.6 Set-cookie in response header." title=":size=50%" /></p>
<p>As we can see, cookie is used to exchange the <em>ID</em> between the client and server. So what is cookie exactly? Of course, it is not the biscuit in your favorite bakery.</p>
<blockquote>
<p>An HTTP cookie (web cookie, browser cookie) is a small piece of data that a server sends to a user's web browser[2].</p>
</blockquote>
<p>The browser may store the cookie and send it back to the same server with later requests. Typically, an HTTP cookie is used to tell if two requests come from the same browser—keeping a user logged in, for example. It remembers stateful information for the stateless HTTP protocol.</p>
<p>Back the <code>Set-Cookie</code> header. A simple cookie is set like this:</p>
<pre><code>Set-Cookie: &lt;cookie-name&gt;=&lt;cookie-value&gt;
</code></pre>
<p><code>JSESSIONID</code> is the name generated by the servlet container; other severs might use different names. And as we will see soon, like any other header, we can put anything we like into cookies.</p>
<p>By the way, strictly speaking, the statement &quot;On the client's first request, the container generates a unique session ID&quot; is not correct. We need to figure out another question: <em>Under what conditions is a JSESSIONID created?[3]</em> Now only partial answer is given:</p>
<blockquote>
<p>Every call to JSP page implicitly creates a new session if there is no session yet.</p>
</blockquote>
<p>We will investigate this problem in the next subsection.</p>
<h2 id="how-and-when-session-is-created"><a class="header" href="#how-and-when-session-is-created">How and when session is created?</a></h2>
<p>Did we manually <code>Set-Cookie</code> for the response? No. So the container does virtually all the cookie work for us! How to send a session with cookie in the response? One line of code is enough:</p>
<pre><code class="language-java">HttpSession session = request.getSession();
</code></pre>
<p>That's it. Everything else happens automatically[4]:</p>
<ul>
<li>You don't make the new <code>HttpSession</code> object yourself.</li>
<li>You don't generate the unique session ID.</li>
<li>You don't make the new <code>Cookie</code> object.</li>
<li>You don't associate the session ID with the cookie.</li>
<li>You don't set the <code>Cookie</code> into the response (under <code>Set-Cookie</code> header).</li>
</ul>
<p>Session is created when your code calls <code>getSession()</code> for the first time, and the subsequent calls would return the <em>same</em> session if it exits. In fact, <code>getSession()</code> is shorthand for <code>getSession(true)</code>, and <em>true</em> means the statement <em>&quot;crate a new one if not exits&quot;</em> is true. So <code>getSession(false)</code> return a session or <code>null</code>. </p>
<p>For example, the following code in <code>HelloServlet.java</code> of <code>ch4/session</code> would output <em>This is a new session</em> on the first visit, and output <em>Welcome back</em> otherwise.</p>
<pre><code class="language-java">HttpSession session = request.getSession(false);

if (session == null) {
    out.println(&quot;This is a new session&quot;);
    request.getSession();
} else {
    out.println(&quot;Welcome back&quot;);
}
</code></pre>
<p>We can also <em>ask the session</em> to know if the session is new by <code>isNew()</code> method of <code>HttpSession</code>. The refactor work is left as an exercise to readers.</p>
<h2 id="how-long-session-lives"><a class="header" href="#how-long-session-lives">How long session lives</a></h2>
<p>No one is immortality, neither is a session. You might notice the message on the log-in page, such as <em>Remember me for one week</em>. It means the browser will keep your stayed for some time, and after this duration, it forgets you, and you have to log in again. Anyway, we may need to consider the lifespan of a session.</p>
<p><img src="image/ch4-session-life.png" alt="Figure 4.7 HttpSession's API[5]." title=":size=40%" /></p>
<p>We can know what these APIs do from their names without much trouble. And we only concentrate on two methods:</p>
<blockquote>
<p>void	setMaxInactiveInterval(int interval)	
Specifies the time, in seconds, between client requests before the servlet container will invalidate this session.</p>
</blockquote>
<p>This method is to set the max interval this session can live. For example, <code>setMaxInactiveInterval(60 * 60 * 24 * 7)</code> means it will be invalidated if the same client have not sent requests for more than 7 days[6].</p>
<blockquote>
<p>void	invalidate()	
Invalidates this session then unbinds any objects bound to it.</p>
</blockquote>
<p>This method is to kill a session manually. Of course, when the application goes down (or crashes), all sessions will also die. There is another method to set the timeout. Configuring a timeout in the DD has virtually the same effect as calling <code>setMaxInactiveInterval()</code> on every session in this web application. But note the timeout in the DD is in <em>minutes</em>, not seconds.</p>
<pre><code class="language-xml">&lt;session-config&gt;
    &lt;session-timeout&gt;60&lt;/session-timeout&gt;
&lt;/session-config&gt;
</code></pre>
<h2 id="an-example-log-in"><a class="header" href="#an-example-log-in">An example: log in</a></h2>
<p>In this example, if she does not log in, then the home page will display <em>Hello guest</em>; if you log in with her email, let's say <em>mary@gmail.com</em>, then the home page will display <em>Hello mary@gmail.com</em>.</p>
<p><img src="image/ch4-hello.png" alt="Figure 4.8 Hello message." title=":size=40%" /></p>
<p>In <code>HomeServlet.java</code>, we check if there is an attribute named <code>name</code> in the session. If so, it means she has logged in; otherwise, she is a guest user. And <code>home.jsp</code>, as the view, is used to display the hello message from the request's attribute.</p>
<pre><code class="language-java">HttpSession session = request.getSession();
if (session.getAttribute(&quot;name&quot;) == null) {
    request.setAttribute(&quot;name&quot;, &quot;Guest&quot;);
} else {
    request.setAttribute(&quot;name&quot;, session.getAttribute(&quot;name&quot;));
}
request.getRequestDispatcher(&quot;/WEB-INF/home.jsp&quot;).forward(request, response);
</code></pre>
<p>In <code>LoginServlet.java</code>, its <code>doPost</code> accepts user's email (note that password is ignored) and then puts her email into session's attribute. Finally, it redirects to home page.</p>
<pre><code class="language-java">String email = request.getParameter(&quot;email&quot;);
HttpSession session = request.getSession();
session.setAttribute(&quot;name&quot;, email);
response.sendRedirect(&quot;home&quot;);
</code></pre>
<p>In <code>LogoutServlet.java</code>, it just kills the session:</p>
<pre><code class="language-java">request.getSession().invalidate();
response.sendRedirect(&quot;home&quot;);
</code></pre>
<p>As for the <em>logout</em>, sometimes we would like to keep some attributes, then we can remove the <code>name</code>:</p>
<pre><code class="language-java">request.getSession().removeAttribute(&quot;name&quot;);
</code></pre>
<blockquote>
<p>void removeAttribute​(java.lang.String name)	
Removes the object bound with the specified name from this session. If the session does not have an object bound with the specified name, this method does nothing.</p>
</blockquote>
<p>Or alternatively, setting its value to <code>null</code>:</p>
<pre><code class="language-java">request.getSession.setAttribute(&quot;name&quot;, null);
</code></pre>
<p>Try your best to understand how the code works, especially how data is shared and passed between front-end and back-end.</p>
<hr />
<p>[1] Session, or more specifically <code>HttpSession</code>, is not the only option, but it is easy to implement. </p>
<p>[2] https://en.wikipedia.org/wiki/HTTP_cookie</p>
<p>[3] https://stackoverflow.com/questions/595872</p>
<p>[4] We need also consider the case when the client doesn't accept cookies. If cookies are disabled, then <code>isNew()</code> method will always return true. In this situation, we can use <em>URL rewriting</em> by appending session at the URL. But since it is handled in a vendor-specific way, we won't discuss it in this book.</p>
<p>[5] Only lifespan related APIs are listed here, and <em>attributes</em> related APIs are listed in Fig 4.3.</p>
<p>[6] It is commonly misunderstood that the session will die in 7 days since it was created.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../ch4/4.2.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../ch4/4.4.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../ch4/4.2.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../ch4/4.4.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>


        <script type="text/javascript">
            window.playground_line_numbers = true;
        </script>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>

        <script src="../ace.js" type="text/javascript" charset="utf-8"></script>
        <script src="../editor.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mode-rust.js" type="text/javascript" charset="utf-8"></script>
        <script src="../theme-dawn.js" type="text/javascript" charset="utf-8"></script>
        <script src="../theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>

        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
