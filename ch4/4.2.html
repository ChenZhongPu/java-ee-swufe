<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js rust">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Attributes - Head First Java Web</title>


        <!-- Custom HTML head -->
        
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "rust";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../preface.html">Preface</a></li><li class="chapter-item expanded "><a href="../ch1/index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../ch1/1.1.html"><strong aria-hidden="true">1.1.</strong> Jakarta EE Overview</a></li><li class="chapter-item expanded "><a href="../ch1/1.2.html"><strong aria-hidden="true">1.2.</strong> Your First Java Web Project</a></li><li class="chapter-item expanded "><a href="../ch1/1.3.html"><strong aria-hidden="true">1.3.</strong> A Brief Introduction To HTML</a></li><li class="chapter-item expanded "><a href="../ch1/1.4.html"><strong aria-hidden="true">1.4.</strong> A Brief Introduction To HTTP</a></li><li class="chapter-item expanded "><a href="../ch1/1.5.html"><strong aria-hidden="true">1.5.</strong> Revisit The First Java Web Project</a></li><li class="chapter-item expanded "><a href="../ch1/exercise.html"><strong aria-hidden="true">1.6.</strong> Exercise</a></li></ol></li><li class="chapter-item expanded "><a href="../ch2/index.html"><strong aria-hidden="true">2.</strong> Web App Architecture And Mini MVC</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../ch2/2.1.html"><strong aria-hidden="true">2.1.</strong> Servlet And Container</a></li><li class="chapter-item expanded "><a href="../ch2/2.2.html"><strong aria-hidden="true">2.2.</strong> Search: The Way To Self-learning</a></li><li class="chapter-item expanded "><a href="../ch2/2.3.html"><strong aria-hidden="true">2.3.</strong> A Brief Introduction To MVC</a></li><li class="chapter-item expanded "><a href="../ch2/2.4.html"><strong aria-hidden="true">2.4.</strong> Hands On MVC (1)</a></li><li class="chapter-item expanded "><a href="../ch2/2.5.html"><strong aria-hidden="true">2.5.</strong> Hands on MVC (2)</a></li><li class="chapter-item expanded "><a href="../ch2/exercise.html"><strong aria-hidden="true">2.6.</strong> Exercise</a></li></ol></li><li class="chapter-item expanded "><a href="../ch3/index.html"><strong aria-hidden="true">3.</strong> In-depth Servlet</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../ch3/3.1.html"><strong aria-hidden="true">3.1.</strong> Servlet: From Birth To Death</a></li><li class="chapter-item expanded "><a href="../ch3/3.2.html"><strong aria-hidden="true">3.2.</strong> Request And Response</a></li><li class="chapter-item expanded "><a href="../ch3/3.3.html"><strong aria-hidden="true">3.3.</strong> More About Request</a></li><li class="chapter-item expanded "><a href="../ch3/3.4.html"><strong aria-hidden="true">3.4.</strong> Upload Files In Servlets</a></li><li class="chapter-item expanded "><a href="../ch3/3.5.html"><strong aria-hidden="true">3.5.</strong> More About Response (1)</a></li><li class="chapter-item expanded "><a href="../ch3/3.6.html"><strong aria-hidden="true">3.6.</strong> More About Response (2)</a></li><li class="chapter-item expanded "><a href="../ch3/exercise.html"><strong aria-hidden="true">3.7.</strong> Exercise</a></li></ol></li><li class="chapter-item expanded "><a href="../ch4/index.html"><strong aria-hidden="true">4.</strong> In-depth Web</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../ch4/4.1.html"><strong aria-hidden="true">4.1.</strong> Init parameters</a></li><li class="chapter-item expanded "><a href="../ch4/4.2.html" class="active"><strong aria-hidden="true">4.2.</strong> Attributes</a></li><li class="chapter-item expanded "><a href="../ch4/4.3.html"><strong aria-hidden="true">4.3.</strong> Session Management (1)</a></li><li class="chapter-item expanded "><a href="../ch4/4.4.html"><strong aria-hidden="true">4.4.</strong> Session Management (2)</a></li><li class="chapter-item expanded "><a href="../ch4/exercise.html"><strong aria-hidden="true">4.5.</strong> Exercise</a></li></ol></li><li class="chapter-item expanded "><a href="../ch5/index.html"><strong aria-hidden="true">5.</strong> JSP And Scriptless JSP</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../ch5/5.1.html"><strong aria-hidden="true">5.1.</strong> Facts About JSP</a></li><li class="chapter-item expanded "><a href="../ch5/5.2.html"><strong aria-hidden="true">5.2.</strong> Expression Language</a></li><li class="chapter-item expanded "><a href="../ch5/5.3.html"><strong aria-hidden="true">5.3.</strong> JSTL</a></li><li class="chapter-item expanded "><a href="../ch5/exercise.html"><strong aria-hidden="true">5.4.</strong> Exercise</a></li></ol></li><li class="chapter-item expanded "><a href="../ch6/index.html"><strong aria-hidden="true">6.</strong> Database</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../ch6/6.1.html"><strong aria-hidden="true">6.1.</strong> Introduction To Database</a></li><li class="chapter-item expanded "><a href="../ch6/6.2.html"><strong aria-hidden="true">6.2.</strong> SQL (1)</a></li><li class="chapter-item expanded "><a href="../ch6/6.3.html"><strong aria-hidden="true">6.3.</strong> SQL (2)</a></li><li class="chapter-item expanded "><a href="../ch6/6.4.html"><strong aria-hidden="true">6.4.</strong> Accessing Databases From Java (1)</a></li><li class="chapter-item expanded "><a href="../ch6/6.5.html"><strong aria-hidden="true">6.5.</strong> Accessing Databases From Java (2)</a></li><li class="chapter-item expanded "><a href="../ch6/exercise.html"><strong aria-hidden="true">6.6.</strong> Exercise</a></li></ol></li><li class="chapter-item expanded "><a href="../ch7/index.html"><strong aria-hidden="true">7.</strong> Thymeleaf</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../ch7/7.1.html"><strong aria-hidden="true">7.1.</strong> Get Started With Thymeleaf</a></li><li class="chapter-item expanded "><a href="../ch7/7.2.html"><strong aria-hidden="true">7.2.</strong> Standard Expression Syntax</a></li><li class="chapter-item expanded "><a href="../ch7/exercise.html"><strong aria-hidden="true">7.3.</strong> Exercise</a></li></ol></li><li class="chapter-item expanded "><a href="../ch9/index.html"><strong aria-hidden="true">8.</strong> Get Started With Spring</a></li><li class="chapter-item expanded "><a href="../appendix/index.html"><strong aria-hidden="true">9.</strong> Appendix</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../appendix/tomcat.html"><strong aria-hidden="true">9.1.</strong> A.1 Tomcat</a></li><li class="chapter-item expanded "><a href="../appendix/idea.html"><strong aria-hidden="true">9.2.</strong> A.2 IntelliJ IDEA</a></li><li class="chapter-item expanded "><a href="../appendix/jdk.html"><strong aria-hidden="true">9.3.</strong> A.3 JDK</a></li><li class="chapter-item expanded "><a href="../appendix/gradle.html"><strong aria-hidden="true">9.4.</strong> A.4 Gradle</a></li><li class="chapter-item expanded "><a href="../appendix/sqlite.html"><strong aria-hidden="true">9.5.</strong> A.5 SQLite</a></li><li class="chapter-item expanded "><a href="../appendix/cloud.html"><strong aria-hidden="true">9.6.</strong> A.6 Cloud (1)</a></li><li class="chapter-item expanded "><a href="../appendix/cloud2.html"><strong aria-hidden="true">9.7.</strong> A.7 Cloud (2)</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Head First Java Web</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="42-attributes"><a class="header" href="#42-attributes">4.2 Attributes</a></h1>
<p>In the mini MVC project, we have used <em>attributes</em> to send data from <em>controllers</em> to <em>views</em>. Attributes, like init parameters, are in the form of name-value. But different from init parameters, the values can be <em>objects</em>, rather than simple strings. </p>
<blockquote>
<p>An attribute is like an object pinned to a bulletin board. Somebody stuck it on the board so that others can get it.</p>
</blockquote>
<p>To use attributes, we need to understand two questions: 1) Who has access to it?; 2) How long does it live? In other words, what is the <em>scope</em> of the attribute? Generally speaking, there are three scopes for attributes:</p>
<ul>
<li><strong>Context</strong>: It is the <code>ServletContext</code> representing the web application.</li>
<li><strong>Request</strong>: It is the <em>request</em> part of a <em>request-response</em> model, and you can simply think of it as the <code>HttpServletRequest</code> object in most cases.</li>
<li><strong>Session</strong>: This is a key point (<code>HttpSession</code>) we will explain in detail later. Now you can simply think of it as several request-response phrases by the <em>same</em> person.</li>
</ul>
<p>For example,</p>
<pre><code class="language-java">request.setAttribute(&quot;books&quot;, books);
RequestDispatcher dispatcher = request.getRequestDispatcher(&quot;result.jsp&quot;);
dispatcher.forward(request, response);
</code></pre>
<p>In the code above, the attribute is in the scope of a <em>request</em>. Because <code>result.jsp</code> and this servlet use the <em>same</em> request when forwarding, <code>result.jsp</code> is able to call <code>getAttribute()</code> to <em>get</em> the attribute.</p>
<h2 id="attributes-vs-parameters"><a class="header" href="#attributes-vs-parameters">Attributes vs. parameters</a></h2>
<p>In the last section, we have studied two types parameters: servlet init parameters and context init parameters. In fact, what we send from <em>views</em> to <em>controller</em> are also parameters. We can find many similarities among them: name-value string pairs; only <code>get()</code> is allowed.</p>
<p>Many students may find it hard to distinguish attributes and parameters. The following table summarizes the main differences.</p>
<table><thead><tr><th style="text-align: left"></th><th style="text-align: center">Attributes</th><th style="text-align: right">Parameters</th></tr></thead><tbody>
<tr><td style="text-align: left">Types</td><td style="text-align: center">Context <br> Request <br> Session</td><td style="text-align: right">Context init parameters <br>  Request parameters <br> Servlet init parameters</td></tr>
<tr><td style="text-align: left">Method to set</td><td style="text-align: center"><code>setAttribute(String, Object)</code></td><td style="text-align: right">You cannot set init parameters[1]</td></tr>
<tr><td style="text-align: left">Return type</td><td style="text-align: center">Object</td><td style="text-align: right">String</td></tr>
<tr><td style="text-align: left">Method to get</td><td style="text-align: center"><code>getAttribute(String)</code></td><td style="text-align: right"><code>getInitParameter(String)</code></td></tr>
</tbody></table>
<blockquote>
<p>[!TIP]
In daily programming, <em>attributes</em> is much more frequently used than <em>init parameters</em>.</p>
</blockquote>
<p>In what follows, we will have a glance at attributes related APIs. Readers can refer to the API documentation for more information.</p>
<p><img src="image/ch4-attributes.png" alt="Figure 4.3 Attributes' APIs." title=":size=40%" /></p>
<h2 id="thread-safety-and-attributes"><a class="header" href="#thread-safety-and-attributes">Thread-safety and attributes</a></h2>
<p>We know that there are three scopes of attributes, but there is a dark side that cannot be ignored: thread-safety. In this book, we won't take much space to explain the thread-sate of attributes in a technical view. Rather, we think it can also be well understood through natural language.</p>
<blockquote>
<p>A class is thread-safe if it behaves correctly when accessed from multiple threads.</p>
</blockquote>
<p>As a matter of fact, thread-safety is a common issue in terms of data sharing. For example, suppose an attribute is in the scope of <code>ServletContext</code>. It is possible for several servlets/threads to update it at the same time. So context scope is not thread safe. Similarly, session scope is not thread safe either, because there could be more than more request at the same time from the same client (i.e., the same session).</p>
<p>To achieve thread safety, the main idea is to let only thread access the current attribute at a time, and one method is to use <code>synchronized</code> in Java. As we can imagine, such restriction would result in bad performance in the context scope. So we should not update attributes in the context scope if possible. Luckily, for session scope, it is not a big deal: one person one request at a time. Quite fair, isn't it?</p>
<pre><code class="language-java">HttpSession session = request.getSession();
synchronized(session) {
    session.setAttribute(&quot;foo&quot;, &quot;22&quot;);
    session.setAttribute(&quot;bar&quot;, 42);
}
</code></pre>
<p>The code above may look sophistic for beginners. Don't worry. Currently what you need to know is that 1). What thread-safety is; 2) Attributes in session scope is not thread-safe; 3) <code>synchronized</code> can solve this problem.</p>
<p>A final question: what about request attributes? In Fig 3.3, we know that each request is processed in a single thread. So attributes in request scope is thread-safe!</p>
<h2 id="attributes-example-database-connection"><a class="header" href="#attributes-example-database-connection">Attributes example: database connection</a></h2>
<p>The usage of attributes is very straightforward. In this section, let's try to use attributes to implement a practical functionality in web applications.</p>
<p>In last section, we mentioned that we can put database connection string in init parameters. And any database operations in the web application should use this global <em>database connection</em>. It is reasonable to put it in the context attribute.</p>
<pre><code class="language-java">DatabaseConn conn = new DataBaseConn(&quot;hostname&quot;, &quot;user&quot;, &quot;password&quot;, &quot;database&quot;);
context.setAttribute(&quot;database&quot;, conn);
</code></pre>
<p>Note that <code>DatabaseConn</code> above is mock class for testing, and it cannot carry out any real database task.</p>
<p>The next question is: where should the code above be put? What about a servlet's <code>init()</code>? It seems a bad idea, because we would expect a place where the whole application is initialized (before any servlets or JSPs). Is there a <code>init()</code> of <em>context</em> for us to override? Unfortunately, no. It seems like a very hard problem. At least servlets are unable to do anything. </p>
<p>But, listeners can solve this problem! The core idea behind <em>listeners</em> is:</p>
<ul>
<li>A listener binds to an event.</li>
<li>When the event is triggered, the listener will be notified and then do something (<em>callback</em> event).</li>
</ul>
<p>Back to our example. A listener binds to the context's initialization event; when the context is initialized, we call <code>setAttribute()</code> method.</p>
<p>In Java EE, there are several listener interfaces, and what we need to do is to implement them and override their methods. For example, the one related with <em>context</em> is <code>ServletContextListener</code>[2].</p>
<pre><code class="language-java">@WebListener
public class DatabaseListener implements ServletContextListener
</code></pre>
<p>Again, we use annotations here to declare that it is a listener. Readers can try out how to do it alternatively in DD.</p>
<p><img src="image/ch4-listener.png" alt="Figure 4.4 ServletContextListener." title=":size=40%" /></p>
<p>As we can this, this interface binds two events, representing context's initialization and destroying, respectively. So what is <code>ServletContextEvent</code>? This is the event class for notifications about changes to the servlet context of a web application, and it has a reference to <code>ServletContext</code>.</p>
<p>In the <code>contextInitialized()</code> method, we can implement our <em>callback</em> logic, and the complete code can be found at <code>DatabaseListener.java</code> of <code>ch4/listener</code>.</p>
<pre><code class="language-java">DatabaseConn conn = new DatabaseConn(host, user, password, database);
sce.getServletContext().setAttribute(&quot;database&quot;, conn);
</code></pre>
<p>Then we can use the sharing <code>conn</code> in servlets:</p>
<pre><code class="language-java">DatabaseConn conn = (DatabaseConn) getServletContext().getAttribute(&quot;database&quot;);
</code></pre>
<p>Besides context events, you can listen for events related to context attributes, servlet requests and attributes, and HTTP sessions and session attributes. Again, you don't have to memorize them. The key point is to understand how a <em>listener</em> works, and also remember: there are many lifecycle events in a web application, and it is possible to be notified and do something using a right type of listener.</p>
<ul>
<li>ServletRequestListener</li>
<li>HttpSessionAttributeListener</li>
<li>HttpSessionBindingListener</li>
<li>ServletContextAttributeListener</li>
<li>HttpSessionListener</li>
<li>ServletRequestAttributeListener</li>
</ul>
<h2 id="listener-example-log"><a class="header" href="#listener-example-log">Listener example: log</a></h2>
<p>Many websites would log every request information containing who was visiting the site, where they came from, and exactly what they were doing on the web site, and these log files are valuable resources for business intelligence. The W3C maintains a <a href="https://www.w3.org/TR/WD-logfile">standard format</a> for web server log files, and for simplicity, we design a compact format based on it. Each line is in the form of <em>time method resource</em>, separately by a blank space. For example,</p>
<pre><code>00:34:23.344207 GET /foo/bar.html
12:21:16.963480 POST /foo/a
12:45:52.255619 GET /foo/b.jsp
</code></pre>
<p>To accomplish this task, we should <em>listen to</em> the event of every request coming in, and that is exactly what <em>ServletRequestListener</em> does.</p>
<pre><code class="language-java">@WebListener
public class LogListener implements ServletRequestListener {
    @Override
    public void requestInitialized(ServletRequestEvent sre) {
        // log
    }
}
</code></pre>
<p>Essentially, logs are append-only files. Firstly, we need to get the current time and necessary information from <code>sre</code>:</p>
<pre><code class="language-java">String now = LocalTime.now().toString();
HttpServletRequest request = (HttpServletRequest) sre.getServletRequest();
String method = request.getMethod();
String context = request.getContextPath();
String path = request.getServletPath();
String s = &quot;%s %s %s%s\n&quot;;
String record = String.format(s, now, method, context, path);
</code></pre>
<p>Then we use <code>Files</code> to write this line to the file[3], and it is thread-safe.</p>
<pre><code class="language-java">Path p = Path.of(&quot;/Users/zhongpu/Desktop/file.log&quot;);
try {
    Files.writeString(p, record, StandardOpenOption.CREATE, StandardOpenOption.APPEND);
} catch (IOException e) {
    e.printStackTrace();
}
</code></pre>
<p>By the way, due to the importance of logging, communities have designed some awesome specialized libraries (e.g., <a href="https://www.slf4j.org/">SLF4J</a>) to help programmers to deal with logging. We also develop another logging system using the built-in <code>java.util.logging</code>, and the complete code can be found at <code>LogListener.java</code> of <code>ch3/listener</code>.</p>
<hr />
<p>[1] With request parameters, you can adjust the query String, but that's different.</p>
<p>[2] In IntelliJ IDEA, when we create a <em>listener</em>, it will automatically implement <code>ServletContextListener</code>, <code>HttpSessionListener</code>, <code>HttpSessionAttributeListener</code>. You can delete unneeded interfaces and their methods. </p>
<p>[3] The language level should be set to at least 11.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../ch4/4.1.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../ch4/4.3.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../ch4/4.1.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../ch4/4.3.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script type="text/javascript">
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>


        <script type="text/javascript">
            window.playground_line_numbers = true;
        </script>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>

        <script src="../ace.js" type="text/javascript" charset="utf-8"></script>
        <script src="../editor.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mode-rust.js" type="text/javascript" charset="utf-8"></script>
        <script src="../theme-dawn.js" type="text/javascript" charset="utf-8"></script>
        <script src="../theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>

        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>

        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
